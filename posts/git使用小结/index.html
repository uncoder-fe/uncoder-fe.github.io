<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>git使用小结 | 不三之选</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="备忘"><meta name=generator content="Hugo 0.111.3"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="git使用小结"><meta property="og:description" content="备忘"><meta property="og:type" content="article"><meta property="og:url" content="/posts/git%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-02-05T15:23:03+08:00"><meta property="article:modified_time" content="2016-02-05T15:23:03+08:00"><meta itemprop=name content="git使用小结"><meta itemprop=description content="备忘"><meta itemprop=datePublished content="2016-02-05T15:23:03+08:00"><meta itemprop=dateModified content="2016-02-05T15:23:03+08:00"><meta itemprop=wordCount content="147"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="git使用小结"><meta name=twitter:description content="备忘"></head><body class="ma0 avenir bg-near-white"><header><div class=bg-dark-gray><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">不三之选</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/posts/ title="Posts page">Posts</a></li></ul><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">git使用小结</h1><p class=tracked>By <strong>uncoder</strong></p><time class="f6 mv4 dib tracked" datetime=2016-02-05T15:23:03+08:00>February 5, 2016</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>备忘</p><h3 id=生成ssh的key>生成ssh的key</h3><ul><li>检查一下</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -al ~/.ssh
</span></span></code></pre></div><ul><li>生成新的秘钥</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen -t rsa -b <span style=color:#ae81ff>4096</span> -C <span style=color:#e6db74>&#34;your_email@example.com&#34;</span>
</span></span></code></pre></div><ul><li>拷贝秘钥</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pbcopy &lt; ~/.ssh/id_rsa.pub
</span></span></code></pre></div><ul><li>然后加入到仓库的ssh里面，测试</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -T git@github.com
</span></span></code></pre></div><h3 id=下载仓库>下载仓库</h3><ul><li>克隆代码到本地</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone 仓库的地址
</span></span></code></pre></div><h3 id=代码上传>代码上传</h3><ul><li>合并远程仓库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git pull origin 远程分支名称
</span></span></code></pre></div><ul><li>添加修改的文件</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add 文件名
</span></span></code></pre></div><ul><li>提交到本地仓库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#39;描述&#39;</span>
</span></span></code></pre></div><ul><li>提交到远程仓库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push origin 远程分支名称
</span></span></code></pre></div><h3 id=文件操作>文件操作</h3><ul><li>查看本地文件修改状态</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git status
</span></span></code></pre></div><ul><li>查看文件不同</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git diff
</span></span></code></pre></div><ul><li>撤销对当前工作目录下某些文件的修改</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout 文件名
</span></span></code></pre></div><ul><li>删除文件</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git rm 文件名
</span></span></code></pre></div><h3 id=远程分支>远程分支</h3><ul><li>查看本地分支</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git branch
</span></span></code></pre></div><ul><li>查看所有分支</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git branch -a
</span></span></code></pre></div><ul><li>查看远程的分支详细情况</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote show origin
</span></span></code></pre></div><ul><li>清理本地不存在的远程分支</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote prune origin
</span></span></code></pre></div><h3 id=创建分支>创建分支</h3><ul><li>创建本地分支</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout -b 本地分支名
</span></span></code></pre></div><ul><li>创建对应远程分支的本地分支</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout -b 本地分支名 origin/远程分支名
</span></span></code></pre></div><ul><li>创建远程分支</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push origin 远程分支名
</span></span></code></pre></div><h3 id=合并分支>合并分支</h3><ul><li>先切换到目标分支</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout 目标分支
</span></span></code></pre></div><ul><li>合并文件</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git merge 来源分支
</span></span></code></pre></div><ul><li>提交目标远程仓库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push origin 目标分支的远程分支
</span></span></code></pre></div><h3 id=合并其它单个文件>合并其它单个文件</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout 分支名称  绝对路径
</span></span></code></pre></div><h3 id=生成多个用户>生成多个用户</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen -t rsa -C <span style=color:#e6db74>&#34;yourmail@gmail.com&#34;</span> 
</span></span><span style=display:flex><span>不要一路回车，在第一个对话的时候继续写个名字，生成第二个身份。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ssh-add ~/.ssh/id_rsa_github
</span></span><span style=display:flex><span>ssh-add ~/.ssh/id_rsa_gitlab
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ssh -vT git@github.com
</span></span><span style=display:flex><span>ssh -T git@gitlab.com
</span></span><span style=display:flex><span>ssh -T git@bitbucket.org
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>touch .ssh/config
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Host git.company.com
</span></span><span style=display:flex><span>HostName git.company.com  //这里填你们公司的git网址即可
</span></span><span style=display:flex><span>PreferredAuthentications publickey
</span></span><span style=display:flex><span>IdentityFile ~/.ssh/id_rsa_gitlab
</span></span></code></pre></div><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-dark-gray bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=/>&copy; 不三之选 2023</a><div><div class=ananke-socials></div></div></div></footer></body></html>